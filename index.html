<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Araç Analiz</title>

  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png">

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>

<h2>Araç Analiz Giriş</h2>

<input id="email" placeholder="Email"><br><br>
<input id="password" type="password" placeholder="Şifre"><br><br>

<button onclick="register()">Kayıt Ol</button>
<button onclick="login()">Giriş Yap</button>

<p id="result"></p>

<script>
const supabaseUrl = "https://lxuqpziqyrrwtzcksgwz.supabase.co";
const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx4dXFwemlxeXJyd3R6Y2tzZ3d6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NDM4MzMsImV4cCI6MjA4NjExOTgzM30.WOwK1D4eDNyPxYOe7HUuwndgPFQgmdmCcRxWsfyTSps";

const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

async function register() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const { data, error } = await supabase.auth.signUp({
    email: email,
    password: password
  });

  document.getElementById("result").innerText =
    error ? error.message : "Kayıt başarılı, mail kontrol et";
}

async function login() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const { data, error } = await supabase.auth.signInWithPassword({
    email: email,
    password: password
  });

  document.getElementById("result").innerText =
    error ? error.message : "Giriş başarılı";
}
</script>

</body>
